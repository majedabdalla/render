# دليل المستخدم الشامل لبوت MultiLangTranslator على منصة Replit

## المقدمة

هذا الدليل يشرح بالتفصيل كيفية تثبيت وتشغيل وصيانة بوت MultiLangTranslator على منصة Replit. يتضمن الدليل خطوات مفصلة للإعداد، والتكوين، والتشغيل، وحل المشكلات الشائعة.

## جدول المحتويات

1. [متطلبات النظام](#متطلبات-النظام)
2. [إعداد مشروع جديد على Replit](#إعداد-مشروع-جديد-على-replit)
3. [رفع ملفات البوت](#رفع-ملفات-البوت)
4. [تكوين متغيرات البيئة](#تكوين-متغيرات-البيئة)
5. [تثبيت المكتبات المطلوبة](#تثبيت-المكتبات-المطلوبة)
6. [تشغيل البوت](#تشغيل-البوت)
7. [إعداد UptimeRobot](#إعداد-uptimerobot)
8. [استخدام البوت](#استخدام-البوت)
9. [حل المشكلات الشائعة](#حل-المشكلات-الشائعة)
10. [الصيانة والتحديثات](#الصيانة-والتحديثات)

## متطلبات النظام

- حساب على [Replit](https://replit.com/)
- رمز بوت تلغرام (Bot Token) من [BotFather](https://t.me/botfather)
- معرف تلغرام للمشرف (Admin Telegram ID)
- معرف مجموعة تلغرام للإشعارات (Target Group ID)
- حساب على [UptimeRobot](https://uptimerobot.com/) (اختياري ولكن موصى به)

## إعداد مشروع جديد على Replit

1. قم بتسجيل الدخول إلى حسابك على [Replit](https://replit.com/)
2. انقر على زر "+ Create" أو "+ Create Repl" في الزاوية العلوية اليمنى
3. اختر "Python" كلغة البرمجة
4. أعط المشروع اسماً مثل "MultiLangTranslatorBot"
5. انقر على "Create Repl"

![إنشاء مشروع جديد](https://i.imgur.com/example1.png)

## رفع ملفات البوت

### الطريقة 1: رفع الملف المضغوط

1. قم بتنزيل الملف المضغوط `MultiLangTranslator_Updated.zip` الذي أرسلته لك
2. قم بفك ضغط الملف على جهازك
3. في Replit، انقر على زر الثلاث نقاط بجانب "Files" واختر "Upload folder"
4. اختر المجلد الذي قمت بفك ضغط الملف فيه
5. انتظر حتى يتم رفع جميع الملفات

### الطريقة 2: رفع الملفات واحداً تلو الآخر

1. في Replit، انقر بزر الماوس الأيمن في مستكشف الملفات واختر "Upload file"
2. ابدأ برفع الملفات الرئيسية: `main.py`, `config.py`, `keep_alive.py`, `app.py`
3. قم بإنشاء المجلدات اللازمة (core, handlers, ui, locales, data) بالنقر بزر الماوس الأيمن واختيار "Add folder"
4. قم برفع الملفات إلى المجلدات المناسبة

## تكوين متغيرات البيئة

### إنشاء ملف .env

1. انقر بزر الماوس الأيمن في مستكشف الملفات واختر "Add file"
2. أنشئ ملفاً باسم `.env`
3. أضف المتغيرات التالية:

```
BOT_TOKEN=your_bot_token_here
ADMIN_ID=your_telegram_id_here
TARGET_GROUP_ID=your_group_id_here
PAYEER_ACCOUNT=your_payeer_account
BITCOIN_ADDRESS=your_bitcoin_address
```

4. استبدل القيم بالمعلومات الخاصة بك
5. احفظ الملف

### استخدام Replit Secrets (طريقة بديلة)

1. في Replit، انقر على أيقونة القفل في الشريط الجانبي
2. أضف المتغيرات التالية:
   - `BOT_TOKEN`: رمز البوت الخاص بك
   - `ADMIN_ID`: معرف التلغرام الخاص بك
   - `TARGET_GROUP_ID`: معرف المجموعة المستهدفة
   - `PAYEER_ACCOUNT`: حساب Payeer الخاص بك (اختياري)
   - `BITCOIN_ADDRESS`: عنوان Bitcoin الخاص بك (اختياري)

![إضافة Secrets](https://i.imgur.com/example2.png)

## تثبيت المكتبات المطلوبة

### إنشاء ملف requirements.txt

1. انقر بزر الماوس الأيمن في مستكشف الملفات واختر "Add file"
2. أنشئ ملفاً باسم `requirements.txt`
3. أضف المكتبات التالية:

```
python-telegram-bot==13.7
flask==2.0.1
psutil==5.9.0
python-dotenv==0.19.2
requests==2.27.1
```

4. احفظ الملف

### تثبيت المكتبات

1. افتح الطرفية (Terminal) من الأسفل
2. قم بتشغيل الأمر:

```
pip install -r requirements.txt
```

## تشغيل البوت

1. تأكد من أن ملف `main.py` هو الملف الرئيسي للمشروع
2. انقر على زر "Run" الأخضر في الأعلى
3. انتظر حتى يتم تشغيل البوت وظهور رسالة "Bot started" في الطرفية
4. يجب أن ترى أيضاً عنوان URL للخادم الويب الذي تم إنشاؤه

![تشغيل البوت](https://i.imgur.com/example3.png)

## إعداد UptimeRobot

UptimeRobot هو خدمة مجانية تساعد في الحفاظ على تشغيل البوت على Replit عن طريق إرسال طلبات HTTP منتظمة.

1. انسخ عنوان URL الذي ظهر في الطرفية (مثال: https://MultiLangTranslatorBot.yourusername.repl.co)
2. قم بزيارة [UptimeRobot](https://uptimerobot.com/) وسجل الدخول أو أنشئ حساباً جديداً
3. انقر على "Add New Monitor"
4. اختر "HTTP(s)" كنوع المراقبة
5. أدخل اسماً للمراقبة مثل "MultiLangTranslator Bot"
6. أضف عنوان URL الخاص بمشروعك مع إضافة `/ping` في النهاية
   مثال: https://MultiLangTranslatorBot.yourusername.repl.co/ping
7. اضبط الفاصل الزمني على 5 دقائق
8. انقر على "Create Monitor"

![إعداد UptimeRobot](https://i.imgur.com/example4.png)

## استخدام البوت

1. افتح تطبيق تلغرام وابحث عن بوتك باستخدام اسم المستخدم الخاص به
2. أرسل الأمر `/start` للبوت
3. اتبع التعليمات لإعداد ملفك الشخصي
4. استخدم الأمر `/menu` لعرض القائمة الرئيسية
5. استكشف الميزات المختلفة للبوت

### الأوامر الرئيسية

- `/start` - بدء البوت وإنشاء ملفك الشخصي
- `/menu` - عرض القائمة الرئيسية
- `/hidemenu` - إخفاء القائمة الرئيسية
- `/help` - عرض معلومات المساعدة
- `/profile` - تحديث ملفك الشخصي
- `/search` - البحث عن شركاء لغة
- `/payment` - تفعيل الميزات المميزة
- `/settings` - إدارة إعداداتك
- `/cancel` - إلغاء العملية الحالية

### أوامر المشرف

- `/admin` - الوصول إلى لوحة تحكم المشرف
- `/broadcast` - إرسال رسالة إلى جميع المستخدمين
- `/stats` - عرض إحصائيات النظام
- `/block` - حظر مستخدم
- `/unblock` - إلغاء حظر مستخدم
- `/verify` - التحقق من دفعة

## حل المشكلات الشائعة

### البوت لا يستجيب

1. تأكد من أن البوت يعمل في Replit (يجب أن ترى "Bot started" في الطرفية)
2. تحقق من رمز البوت في ملف `.env` أو Replit Secrets
3. تأكد من أن UptimeRobot يعمل بشكل صحيح
4. حاول إعادة تشغيل البوت بالنقر على زر "Stop" ثم "Run" في Replit

### خطأ في الوصول إلى ملفات البيانات

1. تأكد من وجود مجلد `data` في مشروعك
2. إذا لم يكن موجوداً، قم بإنشائه:
   ```
   mkdir -p data
   ```
3. تأكد من أن الملفات في المجلد لها تنسيق JSON صحيح

### UptimeRobot لا يعمل

1. تأكد من أن عنوان URL صحيح
2. تحقق من أن خادم الويب يعمل (يجب أن تظهر صفحة عند زيارة عنوان URL)
3. تأكد من إضافة `/ping` في نهاية عنوان URL في UptimeRobot

### مشكلة في إدارة الجلسات

1. قم بحذف ملف الجلسات وإعادة تشغيل البوت:
   ```
   rm -f data/sessions.json
   ```
2. تأكد من أن مجلد `data` له أذونات الكتابة المناسبة

### خطأ في تثبيت المكتبات

1. حاول تثبيت كل مكتبة على حدة:
   ```
   pip install python-telegram-bot==13.7
   pip install flask==2.0.1
   pip install psutil==5.9.0
   pip install python-dotenv==0.19.2
   pip install requests==2.27.1
   ```
2. تحقق من سجل الأخطاء في الطرفية

## الصيانة والتحديثات

### النسخ الاحتياطي للبيانات

1. قم بتنزيل مجلد `data` بانتظام للاحتفاظ بنسخة احتياطية من بيانات المستخدمين
2. يمكنك القيام بذلك بالنقر بزر الماوس الأيمن على المجلد واختيار "Download"

### مراقبة استخدام الموارد

1. قم بزيارة عنوان URL الخاص بمشروعك مع إضافة `/status` في النهاية
   مثال: https://MultiLangTranslatorBot.yourusername.repl.co/status
2. سترى معلومات عن استخدام وحدة المعالجة المركزية والذاكرة والقرص

### تحديث البوت

1. قم بإيقاف البوت بالنقر على زر "Stop" في Replit
2. قم بتحديث الملفات اللازمة
3. قم بتشغيل البوت مرة أخرى بالنقر على زر "Run"

## الختام

تهانينا! لقد قمت بإعداد وتشغيل بوت MultiLangTranslator على منصة Replit. إذا واجهت أي مشكلات أو كان لديك أي أسئلة، فلا تتردد في التواصل معنا.

---

© 2025 MultiLangTranslator Bot
